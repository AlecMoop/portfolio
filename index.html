<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Alec Moore - UX/UI Project Gallery</title>
  <link rel="icon" href="images/favicon.png">
  <meta name="description" content="Screenshots and short write-ups from UX/UI projects by Alec Moore." />
  <link rel="stylesheet" href="styles/main.css" />
</head>
<body>
  <div class="wrap">
    <header>
      <div>
        <h1>UX/UI Projects</h1>
        <p>Click any image for more project views</p>
      </div>
    </header>

    <main class="grid" id="grid" aria-live="polite">
      <article class="card" data-kind="mobile">
        <button class="imgButton"
                data-lb-title="CapSort"
                data-images='["images/capsort/capsort1.png","images/capsort/capsort2.png","images/capsort/capsort3.png","images/capsort/capsort4.png"]'>
          <img class="thumb"
              src="images/capsort/capsort1.png"
              alt="CapSort - key screen"
              width="640" height="400"
              loading="eager">
        </button>
        <div class="content">
          <h2 class="title">CapSort</h2>
          <h3 class="subtitle">Full-stack web app for desktop</h3>
          <p class="desc">Describe what you did for CapSort...</p>
          <div class="tags">
            <span class="tag">Desktop</span>
            <span class="tag">Bootstrap</span>
            <span class="tag">Masonry</span>
            <span class="tag">Jinja2</span>
            <span class="tag">Usability tested</span>
          </div>
        </div>
      </article>

      <article class="card" data-kind="web">
        <button class="imgButton"
                data-lb-title="RouteShuffle"
                data-images='["images/routeshuffle/route1.png","images/routeshuffle/route2.png","images/routeshuffle/route3.png","images/routeshuffle/route4.png","images/routeshuffle/route5.png","images/routeshuffle/route6.png","images/routeshuffle/route7.png","images/routeshuffle/route8.png"]'>
          <img class="thumb"
              src="images/routeshuffle/route0.png"
              alt="RouteShuffle - key screen"
              width="640" height="400"
              loading="eager">
        </button>
        <div class="content">
          <h2 class="title">RouteShuffle</h2>
          <h3 class="subtitle">Interactive Figma prototype for mobile</h3>
          <p class="desc">Describe what you did for RouteShuffle...</p>
          <div class="tags">
            <span class="tag">Mobile</span>
            <span class="tag">Figma</span>
            <span class="tag">User flows</span>
            <span class="tag">Usability tested</span>
          </div>
        </div>
      </article>

      <article class="card" data-kind="dashboard">
        <button class="imgButton"
                data-lb-title="Bike-Minded"
                data-images='["images/bike-minded/bike1.png","images/bike-minded/bike2.png","images/bike-minded/bike3.png","images/bike-minded/bike4.png","images/bike-minded/bike5.png","images/bike-minded/bike6.png","images/bike-minded/bike7.png","images/bike-minded/bike8.png","images/bike-minded/bike9.png","images/bike-minded/bike10.png"]'>
          <img class="thumb"
              src="images/bike-minded/bike1.png"
              alt="Bike-Minded - key screen"
              width="640" height="400"
              loading="eager">
        </button>
        <div class="content">
          <h2 class="title">Bike-Minded</h2>
          <h3 class="subtitle">Responsive multi-page design</h3>
          <p class="desc">Describe what you did for Bike-Minded...</p>
          <div class="tags">
            <span class="tag">Responsive</span>
            <span class="tag">Semantic markup</span>
            <span class="tag">WCAG compliance</span>
            <span class="tag">Custom CSS</span>
            <span class="tag">Media queries</span>
          </div>
        </div>
      </article>
    </main>

    <footer class="site">
      <p>© <span id="year"></span> Alec Moore</p>
    </footer>
  </div>

  <!-- Lightbox -->
  <div class="lightbox" id="lightbox" role="dialog" aria-modal="true" aria-hidden="true">
    <figure>
      <img id="lbImg" alt="Expanded project screenshot" />
      <figcaption id="lbCap">
        <span id="lbCount"></span>
      </figcaption>
    </figure>
    <button class="lb-arrow lb-left"  id="prevLb"  aria-label="Previous image">‹</button>
    <button class="lb-arrow lb-right" id="nextLb"  aria-label="Next image">›</button>
    <button class="lb-close"          id="closeLb" aria-label="Close (Esc)">×</button>
  </div>


  <script>
    // Year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Lightbox
    const lb = document.getElementById('lightbox');
    const lbImg = document.getElementById('lbImg');
    const lbCap = document.getElementById('lbCap');
    const download = document.getElementById('downloadLb');
    const closeBtn = document.getElementById('closeLb');
    let lastFocus = null;

    function openLb(src, title){
      lastFocus = document.activeElement;
      lb.classList.add('open');
      lb.removeAttribute('aria-hidden');
      lbImg.src = src; download.href = src; lbCap.textContent = title || '';
      closeBtn.focus();
      document.addEventListener('keydown', onEsc);
    }
    function closeLb(){
      lb.classList.remove('open');
      lb.setAttribute('aria-hidden','true');
      lbImg.removeAttribute('src');
      document.removeEventListener('keydown', onEsc);
      if(lastFocus) lastFocus.focus();
    }
    function onEsc(e){ if(e.key==='Escape') closeLb(); }

    document.querySelectorAll('.imgButton').forEach(btn=>{
      btn.addEventListener('click',()=> openLb(btn.dataset.lbSrc, btn.dataset.lbTitle));
      btn.classList.add('thumbWrap');
      btn.style.padding=0; btn.style.margin=0; btn.style.border='none'; btn.style.background='transparent'; btn.style.cursor='zoom-in';
    });
    lb.addEventListener('click', (e)=>{ if(e.target===lb) closeLb(); });
    closeBtn.addEventListener('click', closeLb);

    
    // Lightbox Carousel
    const prevBtn = document.getElementById('prevLb');
    const nextBtn = document.getElementById('nextLb');
    const lbCount = document.getElementById('lbCount');

    let lbImages = [];
    let lbIndex = 0;
    let lbTitle = '';

    function show(idx){
      if (!lbImages.length) return;
      lbIndex = (idx + lbImages.length) % lbImages.length;
      const src = lbImages[lbIndex];
      lbImg.src = src;
      download.href = src;
      lbCap.textContent = lbTitle || '';
      lbCount.textContent = lbImages.length > 1 ? (lbIndex+1)+' / '+lbImages.length : '';
      const next = new Image(); next.src = lbImages[(lbIndex+1)%lbImages.length];
      const prev = new Image(); prev.src = lbImages[(lbIndex-1+lbImages.length)%lbImages.length];
    }

    function openLb(imagesOrString, title, startIndex=0){
      lbImages = Array.isArray(imagesOrString) ? imagesOrString
                : (typeof imagesOrString === 'string' ? [imagesOrString] : []);
      lbTitle = title || '';
      lastFocus = document.activeElement;
      lb.classList.add('open');
      lb.removeAttribute('aria-hidden');
      show(startIndex);
      closeBtn.focus();
      document.addEventListener('keydown', onKeys);
    }

    function closeLb(){
      lb.classList.remove('open');
      lb.setAttribute('aria-hidden','true');
      lbImg.removeAttribute('src');
      document.removeEventListener('keydown', onKeys);
      if (lastFocus) lastFocus.focus();
    }

    function onKeys(e){
      if (e.key === 'Escape') closeLb();
      if (e.key === 'ArrowRight') show(lbIndex+1);
      if (e.key === 'ArrowLeft') show(lbIndex-1);
    }

    prevBtn.addEventListener('click', ()=> show(lbIndex-1));
    nextBtn.addEventListener('click', ()=> show(lbIndex+1));
    closeBtn.addEventListener('click', closeLb);
    lb.addEventListener('click', (e)=>{ if(e.target===lb) closeLb(); });

    document.querySelectorAll('.imgButton').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const title = btn.getAttribute('data-lb-title') || '';
        const imgsAttr = btn.getAttribute('data-images');
        let images = [];
        try { images = imgsAttr ? JSON.parse(imgsAttr) : []; } catch (_) {}
        if (!images.length) {
          const img = btn.querySelector('img');
          if (img && img.src) images = [img.src];
        }
        openLb(images, title, 0);
      });
    });
  </script>
</body>
</html>
